<UserControl
    x:Class="ImgPlacer.Views.Controls.CanvasSliderPanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="clr-namespace:ImgPlacer.Utils.Behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:system="clr-namespace:System;assembly=System.Runtime"
    xmlns:viewModels="clr-namespace:ImgPlacer.ViewModels"
    d:DataContext="{d:DesignInstance viewModels:CanvasSliderPanelViewModel}"
    mc:Ignorable="d">

    <StackPanel Margin="10">
        <StackPanel Orientation="Horizontal">
            <StackPanel>
                <TextBlock Margin="0,5" Text="Distance" />
                <StackPanel Orientation="Horizontal">
                    <Slider
                        x:Name="DistanceSlider"
                        Width="300"
                        Maximum="2000"
                        Minimum="0"
                        TickFrequency="20"
                        Value="{Binding Distance, Mode=TwoWay}">
                        <i:Interaction.Behaviors>
                            <behaviors:DistanceSliderDragPreviewBehavior />
                        </i:Interaction.Behaviors>
                    </Slider>
                    <materialDesign:NumericUpDown
                        Width="40"
                        Margin="10,0"
                        HorizontalContentAlignment="Center"
                        Maximum="2000"
                        Minimum="0"
                        ValueStep="20"
                        Value="{Binding Distance, Mode=TwoWay}" />
                </StackPanel>
            </StackPanel>

            <Border Width="20" />

        </StackPanel>

        <StackPanel>
            <TextBlock Margin="0,5" Text="Degree" />
            <StackPanel Orientation="Horizontal">
                <Slider
                    x:Name="DegreeSlider"
                    Width="150"
                    Maximum="360"
                    Minimum="0"
                    TickFrequency="45"
                    Value="{Binding Degree, Mode=TwoWay}" />
                <materialDesign:NumericUpDown
                    Width="40"
                    Margin="10,0"
                    HorizontalContentAlignment="Center"
                    Maximum="360"
                    Minimum="0"
                    ValueStep="5"
                    Value="{Binding Degree, Mode=TwoWay}" />

                <Button
                    Width="70"
                    Margin="5,0"
                    Command="{Binding AddDegreeCommand}"
                    Content="+180">
                    <Button.CommandParameter>
                        <system:Int32>180</system:Int32>
                    </Button.CommandParameter>
                </Button>

                <Button
                    Margin="5,0"
                    Command="{Binding AddDegreeCommand}"
                    Content="+90">
                    <Button.CommandParameter>
                        <system:Int32>90</system:Int32>
                    </Button.CommandParameter>
                </Button>

                <Button
                    Margin="5,0"
                    Command="{Binding AddDegreeCommand}"
                    Content="+45">
                    <Button.CommandParameter>
                        <system:Int32>45</system:Int32>
                    </Button.CommandParameter>
                </Button>
            </StackPanel>
        </StackPanel>


        <StackPanel Margin="0,10" Orientation="Horizontal">
            <StackPanel Orientation="Horizontal">
                <TextBlock VerticalAlignment="Center" Text="Duration:" />
                <materialDesign:NumericUpDown
                    Width="30"
                    Margin="10,0"
                    Minimum="0"
                    ValueStep="10"
                    Value="{Binding Duration, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>


            <StackPanel Orientation="Horizontal">
                <TextBlock VerticalAlignment="Center" Text="Delay:" />
                <materialDesign:NumericUpDown
                    Width="40"
                    Margin="10,0"
                    Minimum="0"
                    ValueStep="10"
                    Value="{Binding Delay, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>

            <Border Width="25" />

            <StackPanel Orientation="Horizontal">
                <TextBlock VerticalAlignment="Center" Text="Interval:" />

                <materialDesign:NumericUpDown
                    Width="40"
                    Margin="10,0"
                    Minimum="0"
                    ValueStep="10"
                    Value="{Binding Interval, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>

            <Border Width="25" />

        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <TextBlock VerticalAlignment="Center" Text="Repeat:" />
            <ComboBox
                Width="80"
                Margin="10,0"
                SelectedItem="{Binding RepeatPreset, Mode=TwoWay}">
                <ComboBoxItem Content="0" />
                <ComboBoxItem Content="1" />
                <ComboBoxItem Content="∞" />
                <ComboBoxItem Content="Custom" />
            </ComboBox>

            <TextBox
                Width="60"
                Margin="4,0"
                IsEnabled="{Binding IsRepeatCustom}"
                Text="{Binding RepeatCount}" />
        </StackPanel>


        <Border Height="10" />

        <StackPanel Orientation="Horizontal">
            <Button
                Height="25"
                HorizontalAlignment="Left"
                Command="{Binding SlideCommand}"
                Content="Slide" />

            <Button
                Height="25"
                Margin="10,0"
                HorizontalAlignment="Left"
                Content="Slide (Hold)">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                        <i:InvokeCommandAction Command="{Binding SlideHoldPressCommand}" />
                    </i:EventTrigger>

                    <i:EventTrigger EventName="PreviewMouseLeftButtonUp">
                        <i:InvokeCommandAction Command="{Binding SlideHoldReleaseCommand}" />
                    </i:EventTrigger>

                    <i:EventTrigger EventName="MouseLeave">
                        <i:InvokeCommandAction Command="{Binding SlideHoldReleaseCommand}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </Button>

        </StackPanel>
    </StackPanel>
</UserControl>